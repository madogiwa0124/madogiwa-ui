.columns {
  --columns-gap: var(--spacing-2);
  --columns-left-width: 2fr;
  --columns-main-width: auto;
  --columns-right-width: 2fr;

  display: grid;
  gap: var(--columns-gap);
  grid-template-areas: "left main right";

  &.columns__left {
    grid-area: left;
  }

  &.columns__main {
    grid-area: main;
  }

  &.columns__right {
    grid-area: right;
  }

  &:not(:has(.columns__left)) {
    grid-template-areas: "main right";
  }
  &:not(:has(.columns__right)) {
    grid-template-areas: "left main";
  }
  &:not(:has(.columns__left)):not(:has(.columns__right)) {
    grid-template-areas: "main";
  }

  /* TODO: custom-media queries */
  @media screen and (width < 576px) {
    /* NOTE: Nesting styles within `@media` queries don't seem to be supported, so disabled. */
    /* eslint-disable css/no-invalid-at-rules */
    grid-template-areas: "left" "main" "right";
    grid-template-columns: 1fr;
    &:not(:has(.columns__left)) {
      grid-template-areas: "main" "right";
    }
    &:not(:has(.columns__right)) {
      grid-template-areas: "left" "main";
    }
  }
}
