.columns {
  --columns-gap: var(--spacing-2);
  --columns-left-width: 2fr;
  --columns-main-width: auto;
  --columns-right-width: 2fr;

  display: grid;
  gap: var(--columns-gap);
  grid-template-areas: "left main right";

  &.--no-gap {
    --columns-gap: 0;
  }

  &.columns__left {
    grid-area: left;
  }

  &.columns__main {
    grid-area: main;
  }

  &.columns__right {
    grid-area: right;
  }

  &:not(:has(.columns__left)) {
    grid-template-areas: "main right";
  }

  &:not(:has(.columns__right)) {
    grid-template-areas: "left main";
  }

  &:not(:has(.columns__left), :has(.columns__right)) {
    grid-template-areas: "main";
  }

  @media (--media-breakpoint-max-sm) {
    grid-template-areas: "left" "main" "right";
    grid-template-columns: 1fr;

    &:not(:has(.columns__left)) {
      grid-template-areas: "main" "right";
    }

    &:not(:has(.columns__right)) {
      grid-template-areas: "left" "main";
    }
  }
}
